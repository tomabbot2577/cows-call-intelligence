# Call Recording System Configuration
# Copy this file to .env and fill in your actual values

# ==========================================
# DATABASE CONFIGURATION
# ==========================================
DATABASE_URL=postgresql://call_system:your_secure_password_here@localhost:5432/call_recordings

# ==========================================
# RINGCENTRAL API CREDENTIALS
# ==========================================
# Get these from https://developers.ringcentral.com
RINGCENTRAL_CLIENT_ID=your_client_id_here
RINGCENTRAL_CLIENT_SECRET=your_client_secret_here
RINGCENTRAL_JWT_TOKEN=your_jwt_token_here

# Server URL - Use one of these:
# Sandbox: https://platform.devtest.ringcentral.com
# Production: https://platform.ringcentral.com
RINGCENTRAL_SERVER_URL=https://platform.ringcentral.com

# Your RingCentral account ID (optional, defaults to ~)
RINGCENTRAL_ACCOUNT_ID=~

# ==========================================
# GOOGLE DRIVE CONFIGURATION
# ==========================================
# Path to service account JSON key file
GOOGLE_CREDENTIALS_PATH=/opt/call_recording_system/config/google_service_account.json

# Google Drive folder ID where transcripts will be uploaded
# Get this from the folder URL: https://drive.google.com/drive/folders/FOLDER_ID_HERE
GOOGLE_DRIVE_FOLDER_ID=your_folder_id_here

# ==========================================
# OPENAI WHISPER CONFIGURATION
# ==========================================
# Model size: tiny, base, small, medium, large
# Smaller models are faster but less accurate
WHISPER_MODEL=base

# Device: cpu or cuda (if GPU available)
WHISPER_DEVICE=cpu

# Compute type for CPU: int8, float16, float32
WHISPER_COMPUTE_TYPE=int8

# ==========================================
# PROCESSING CONFIGURATION
# ==========================================
# Number of recordings to process in each batch
BATCH_SIZE=50

# Maximum concurrent workers for batch processing
MAX_WORKERS=4

# Time for daily scheduled processing (24-hour format)
DAILY_SCHEDULE_TIME=02:00

# Number of historical days to process on first run
HISTORICAL_DAYS=60

# Maximum retry attempts for failed recordings
MAX_RETRIES=3

# ==========================================
# EMAIL NOTIFICATIONS (OPTIONAL)
# ==========================================
# SMTP server settings (example for Gmail)
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_TLS=true

# Email credentials
# For Gmail: use app-specific password, not regular password
SMTP_USER=your_email@gmail.com
SMTP_PASSWORD=your_app_specific_password_here

# Email to receive alerts
ALERT_EMAIL=alerts@your-domain.com

# ==========================================
# SLACK NOTIFICATIONS (OPTIONAL)
# ==========================================
# Incoming webhook URL from Slack app
SLACK_WEBHOOK=https://hooks.slack.com/services/YOUR/WEBHOOK/URL

# ==========================================
# MONITORING CONFIGURATION
# ==========================================
# Enable Prometheus metrics endpoint
PROMETHEUS_ENABLED=true

# Health check interval in seconds
HEALTH_CHECK_INTERVAL=60

# ==========================================
# STORAGE PATHS
# ==========================================
# Local paths for temporary storage
AUDIO_STORAGE_PATH=/opt/call_recording_system/data/audio
TRANSCRIPT_STORAGE_PATH=/opt/call_recording_system/data/transcripts

# Log file path
LOG_FILE_PATH=/opt/call_recording_system/logs/app.log

# Log level: DEBUG, INFO, WARNING, ERROR, CRITICAL
LOG_LEVEL=INFO

# ==========================================
# API RATE LIMITS
# ==========================================
# RingCentral API rate limits (requests per minute)
RATE_LIMIT_HEAVY=10
RATE_LIMIT_MEDIUM=40
RATE_LIMIT_LIGHT=50
RATE_LIMIT_AUTH=5

# ==========================================
# SYSTEM RESOURCE THRESHOLDS
# ==========================================
# Thresholds for health monitoring (percentages)
CPU_THRESHOLD=80
MEMORY_THRESHOLD=85
DISK_THRESHOLD=90

# ==========================================
# RETRY CONFIGURATION
# ==========================================
# Exponential backoff settings
RETRY_BASE_DELAY=1.0
RETRY_MAX_DELAY=60.0
RETRY_EXPONENTIAL_BASE=2.0

# ==========================================
# SECURITY
# ==========================================
# Enable HTTPS for web interface (if applicable)
ENABLE_HTTPS=false

# Secret key for session management (generate a random string)
SECRET_KEY=your_random_secret_key_here

# ==========================================
# ADVANCED SETTINGS
# ==========================================
# Database connection pool settings
DB_POOL_SIZE=5
DB_MAX_OVERFLOW=10
DB_POOL_TIMEOUT=30

# Request timeout in seconds
REQUEST_TIMEOUT=30

# Maximum file size for uploads (in MB)
MAX_FILE_SIZE=500

# Enable debug mode (DO NOT use in production)
DEBUG=false

# ==========================================
# RAG INTEGRATION (COWS - December 2025)
# ==========================================
# Google Cloud Project ID
GOOGLE_CLOUD_PROJECT=call-recording-481713

# Gemini API Key (get from https://aistudio.google.com/app/apikey)
GEMINI_API_KEY=your_gemini_api_key_here

# Google Cloud Storage bucket for RAG data
GCS_RAG_BUCKET=call-recording-rag-data
GCS_RAG_PREFIX=transcripts/

# Gemini File Search store name
GEMINI_FILE_SEARCH_STORE=mst_call_intelligence

# Vertex AI RAG settings
VERTEX_AI_LOCATION=us-west1
VERTEX_CORPUS_NAME=mst_call_intelligence

# Google Service Account credentials path
GOOGLE_APPLICATION_CREDENTIALS=/var/www/call-recording-system/config/google_service_account.json

# RAG export directory
RAG_EXPORT_DIR=/var/www/call-recording-system/rag_integration/exports

# RAG API settings
RAG_API_PORT=8081
RAG_API_PASSWORD=!pcr123

# RAG Database URL (read-only access recommended)
RAG_DATABASE_URL=postgresql://call_insights_user:REDACTED_DB_PASSWORD@localhost/call_insights

# RAG Report settings (optional)
REPORT_FROM_EMAIL=reports@example.com
REPORT_RECIPIENTS=manager@example.com
ALERT_EMAIL_TO=alerts@example.com